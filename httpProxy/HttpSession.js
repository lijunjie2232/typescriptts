'use strict';function a12_0x38cc(_0x3f555a,_0x4ababb){const _0x39025c=a12_0x3902();return a12_0x38cc=function(_0x38ccab,_0x5be373){_0x38ccab=_0x38ccab-0x198;let _0x1a018f=_0x39025c[_0x38ccab];return _0x1a018f;},a12_0x38cc(_0x3f555a,_0x4ababb);}const a12_0x2f5bdc=a12_0x38cc;(function(_0x3e5660,_0x21e77a){const _0x5caafe=a12_0x38cc,_0x461611=_0x3e5660();while(!![]){try{const _0x170012=-parseInt(_0x5caafe(0x1bf))/0x1+parseInt(_0x5caafe(0x1aa))/0x2+parseInt(_0x5caafe(0x1b1))/0x3+parseInt(_0x5caafe(0x1d1))/0x4*(-parseInt(_0x5caafe(0x1c0))/0x5)+parseInt(_0x5caafe(0x1dd))/0x6+-parseInt(_0x5caafe(0x1d6))/0x7+-parseInt(_0x5caafe(0x1ce))/0x8*(parseInt(_0x5caafe(0x19e))/0x9);if(_0x170012===_0x21e77a)break;else _0x461611['push'](_0x461611['shift']());}catch(_0xefe1d2){_0x461611['push'](_0x461611['shift']());}}}(a12_0x3902,0x5818a));var __createBinding=this&&this[a12_0x2f5bdc(0x1c6)]||(Object['create']?function(_0x3170bc,_0x34447f,_0x417268,_0x5b5d26){const _0x1c2a7c=a12_0x2f5bdc;if(_0x5b5d26===undefined)_0x5b5d26=_0x417268;var _0x43d04a=Object[_0x1c2a7c(0x1bc)](_0x34447f,_0x417268);(!_0x43d04a||(_0x1c2a7c(0x1c2)in _0x43d04a?!_0x34447f[_0x1c2a7c(0x1af)]:_0x43d04a[_0x1c2a7c(0x1c5)]||_0x43d04a['configurable']))&&(_0x43d04a={'enumerable':!![],'get':function(){return _0x34447f[_0x417268];}}),Object[_0x1c2a7c(0x1b3)](_0x3170bc,_0x5b5d26,_0x43d04a);}:function(_0xfe9c96,_0x480732,_0x1c7a27,_0x35c235){if(_0x35c235===undefined)_0x35c235=_0x1c7a27;_0xfe9c96[_0x35c235]=_0x480732[_0x1c7a27];}),__setModuleDefault=this&&this[a12_0x2f5bdc(0x1be)]||(Object[a12_0x2f5bdc(0x19a)]?function(_0x497b5f,_0xe480bb){const _0x367b7d=a12_0x2f5bdc;Object['defineProperty'](_0x497b5f,_0x367b7d(0x199),{'enumerable':!![],'value':_0xe480bb});}:function(_0x233388,_0xbafda4){_0x233388['default']=_0xbafda4;}),__importStar=this&&this[a12_0x2f5bdc(0x1ba)]||function(_0x353676){const _0x19c5f1=a12_0x2f5bdc;if(_0x353676&&_0x353676[_0x19c5f1(0x1af)])return _0x353676;var _0x1b90f9={};if(_0x353676!=null){for(var _0x3f9dc2 in _0x353676)if(_0x3f9dc2!==_0x19c5f1(0x199)&&Object[_0x19c5f1(0x1a1)][_0x19c5f1(0x1d2)]['call'](_0x353676,_0x3f9dc2))__createBinding(_0x1b90f9,_0x353676,_0x3f9dc2);}return __setModuleDefault(_0x1b90f9,_0x353676),_0x1b90f9;};Object[a12_0x2f5bdc(0x1b3)](exports,a12_0x2f5bdc(0x1af),{'value':!![]}),exports[a12_0x2f5bdc(0x1d5)]=exports['HttpSession']=void 0x0;const http=__importStar(require('http')),net=__importStar(require(a12_0x2f5bdc(0x1cc)));function a12_0x3902(){const _0x44bb60=['rawHeaders','prototype','https:','join','headers','connect','HTTPS\x20tunneling\x20error:\x20','Server\x20socket\x20error:','Client\x20socket\x20error:\x20','Upgrade','343356Wbzvgn','error','statusCode','search','hostname','__esModule','match','2038014SwRjTD','\x0d\x0a\x0d\x0a','defineProperty','HTTP/1.1\x20200\x20Connection\x20Established\x0d\x0a\x0d\x0a','HTTP\x20request\x20error:\x20','upgrade','pipe','toLowerCase','createConnection','__importStar','socket','getOwnPropertyDescriptor','req','__setModuleDefault','71260cmgpQg','388090nfneYE','processRequest','get','HttpSession','logger','writable','__createBinding','Internal\x20Server\x20Error','handleHttpsRequest','assign','res','handleWebSocketUpgrade','net','isWebSocketRequest','272pdebPU','Client\x20socket\x20error:','getHostnameFromURL','8rJVqyB','hasOwnProperty','URL\x20is\x20undefined','handleHttpRequest','HttpsSession','1449651QITexn','head','HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0aUpgrade:\x20websocket\x0d\x0aConnection:\x20Upgrade\x0d\x0a\x0d\x0a','parseHostAndPort','request','url','writeHead','999138OqBdBa','write','method','data','message','HTTP/1.1\x20500\x20Internal\x20Server\x20Error\x0d\x0a\x0d\x0a','configManager','default','create','port','Invalid\x20URL\x20format:\x20','end','59058ibNeDz','destroy'];a12_0x3902=function(){return _0x44bb60;};return a12_0x3902();}class HttpSession{constructor(_0x1f20b2,_0x7a172c,_0x443956,_0x124ecc){const _0x1aef48=a12_0x2f5bdc;this[_0x1aef48(0x1bd)]=_0x1f20b2,this[_0x1aef48(0x1ca)]=_0x7a172c,this['logger']=_0x443956,this[_0x1aef48(0x198)]=_0x124ecc;}['processRequest'](){this['isWebSocketRequest']()?this['handleWebSocketUpgrade']():this['handleHttpRequest']();}[a12_0x2f5bdc(0x1d0)](_0x43e377){const _0x2db73c=a12_0x2f5bdc,_0x5b4317=new URL(_0x43e377)[_0x2db73c(0x1ae)];return _0x5b4317;}[a12_0x2f5bdc(0x1cd)](){const _0x53e750=a12_0x2f5bdc,_0x8c7cf0=this[_0x53e750(0x1bd)][_0x53e750(0x1a4)][_0x53e750(0x1b6)];return _0x8c7cf0&&_0x8c7cf0[_0x53e750(0x1b8)]()==='websocket'||![];}['handleWebSocketUpgrade'](){const _0x254b62=a12_0x2f5bdc,_0x2f351e=new URL(this[_0x254b62(0x1bd)][_0x254b62(0x1db)]),_0x30873c=_0x2f351e[_0x254b62(0x19b)]?parseInt(_0x2f351e[_0x254b62(0x19b)]):_0x2f351e['protocol']===_0x254b62(0x1a2)?0x1bb:0x50,_0x410322=net[_0x254b62(0x1b9)]({'port':_0x30873c,'host':_0x2f351e['hostname']},()=>{const _0x3971a4=_0x254b62;this[_0x3971a4(0x1ca)][_0x3971a4(0x1dc)](0x65,Object[_0x3971a4(0x1c9)]({'Upgrade':'websocket','Connection':_0x3971a4(0x1a9)},this[_0x3971a4(0x1bd)]['headers'])),_0x410322[_0x3971a4(0x1de)](this['req'][_0x3971a4(0x1a0)][_0x3971a4(0x1a3)]('\x0d\x0a')+_0x3971a4(0x1b2));});this[_0x254b62(0x1bd)]['on'](_0x254b62(0x1e0),_0x513244=>_0x410322[_0x254b62(0x1de)](_0x513244)),_0x410322['on'](_0x254b62(0x1e0),_0xaa8dd7=>this[_0x254b62(0x1bd)][_0x254b62(0x1bb)][_0x254b62(0x1de)](_0xaa8dd7)),this['req']['on'](_0x254b62(0x19d),()=>_0x410322[_0x254b62(0x19d)]()),_0x410322['on']('end',()=>this[_0x254b62(0x1bd)][_0x254b62(0x1bb)][_0x254b62(0x19d)]()),this[_0x254b62(0x1bd)]['on']('error',_0x396a7e=>this[_0x254b62(0x1c4)][_0x254b62(0x1ab)]('Request\x20error:',_0x396a7e)),_0x410322['on'](_0x254b62(0x1ab),_0x3f92b8=>this['logger'][_0x254b62(0x1ab)](_0x254b62(0x1a7),_0x3f92b8));}[a12_0x2f5bdc(0x1d4)](){const _0x3d5b99=a12_0x2f5bdc,_0x5e4bb8={'hostname':this[_0x3d5b99(0x1d0)](this[_0x3d5b99(0x1bd)]['url']),'port':parseInt(new URL(this['req']['url'])['port'])||0x50,'path':new URL(this[_0x3d5b99(0x1bd)][_0x3d5b99(0x1db)])['pathname']+new URL(this[_0x3d5b99(0x1bd)][_0x3d5b99(0x1db)])[_0x3d5b99(0x1ad)],'method':this[_0x3d5b99(0x1bd)][_0x3d5b99(0x1df)],'headers':this[_0x3d5b99(0x1bd)][_0x3d5b99(0x1a4)]},_0x35ff01=http[_0x3d5b99(0x1da)](_0x5e4bb8,_0x1a96bf=>{const _0xda9b08=_0x3d5b99;this['res'][_0xda9b08(0x1dc)](_0x1a96bf[_0xda9b08(0x1ac)],_0x1a96bf[_0xda9b08(0x1a4)]),_0x1a96bf[_0xda9b08(0x1b7)](this[_0xda9b08(0x1ca)],{'end':!![]});});_0x35ff01['on'](_0x3d5b99(0x1ab),_0x5747c6=>{const _0x37ccc9=_0x3d5b99;this[_0x37ccc9(0x1c4)]['error'](_0x37ccc9(0x1b5)+_0x5747c6),this[_0x37ccc9(0x1ca)][_0x37ccc9(0x1dc)](0x1f4),this[_0x37ccc9(0x1ca)][_0x37ccc9(0x19d)](_0x37ccc9(0x1c7));}),this[_0x3d5b99(0x1bd)]['on']('error',_0x57fbe1=>{const _0xe7ecb1=_0x3d5b99;this[_0xe7ecb1(0x1c4)][_0xe7ecb1(0x1ab)]('Client\x20request\x20error:\x20'+_0x57fbe1['message']);}),this['req'][_0x3d5b99(0x1b7)](_0x35ff01,{'end':!![]});}}exports[a12_0x2f5bdc(0x1c3)]=HttpSession;class HttpsSession{constructor(_0x210307,_0x301e46,_0x340165,_0x403900,_0x4cde2b){const _0x331f27=a12_0x2f5bdc;this[_0x331f27(0x1bd)]=_0x210307,this[_0x331f27(0x1bb)]=_0x301e46,this[_0x331f27(0x1d7)]=_0x340165,this['logger']=_0x403900,this[_0x331f27(0x198)]=_0x4cde2b;}[a12_0x2f5bdc(0x1c1)](){const _0x2eb132=a12_0x2f5bdc;this[_0x2eb132(0x1cd)]()?this[_0x2eb132(0x1cb)]():this[_0x2eb132(0x1c8)]();}['isWebSocketRequest'](){const _0x5d14b4=a12_0x2f5bdc,_0x20c9da=this[_0x5d14b4(0x1bd)][_0x5d14b4(0x1a4)][_0x5d14b4(0x1b6)];return _0x20c9da&&_0x20c9da['toLowerCase']()==='websocket'||![];}[a12_0x2f5bdc(0x1cb)](){const _0x56394c=a12_0x2f5bdc,_0xb45225=new URL(this[_0x56394c(0x1bd)]['url']),_0x120a70=_0xb45225[_0x56394c(0x19b)]?parseInt(_0xb45225['port']):0x1bb,_0x244fa5=net[_0x56394c(0x1b9)]({'port':_0x120a70,'host':_0xb45225[_0x56394c(0x1ae)]},()=>{const _0xb87f56=_0x56394c;this[_0xb87f56(0x1bb)][_0xb87f56(0x1de)](_0xb87f56(0x1d8)),_0x244fa5[_0xb87f56(0x1de)](this['head']);});this[_0x56394c(0x1bb)]['on'](_0x56394c(0x1e0),_0x4bc2dc=>_0x244fa5[_0x56394c(0x1de)](_0x4bc2dc)),_0x244fa5['on'](_0x56394c(0x1e0),_0x2b7f7a=>this[_0x56394c(0x1bb)][_0x56394c(0x1de)](_0x2b7f7a)),this[_0x56394c(0x1bb)]['on'](_0x56394c(0x19d),()=>_0x244fa5[_0x56394c(0x19d)]()),_0x244fa5['on'](_0x56394c(0x19d),()=>this[_0x56394c(0x1bb)][_0x56394c(0x19d)]()),this[_0x56394c(0x1bb)]['on'](_0x56394c(0x1ab),_0x5e9646=>this[_0x56394c(0x1c4)][_0x56394c(0x1ab)](_0x56394c(0x1cf),_0x5e9646)),_0x244fa5['on'](_0x56394c(0x1ab),_0x5adcba=>this[_0x56394c(0x1c4)][_0x56394c(0x1ab)](_0x56394c(0x1a7),_0x5adcba));}[a12_0x2f5bdc(0x1c8)](){const _0x2fb56a=a12_0x2f5bdc,{hostname:_0x1ef980,port:_0x148ec7}=this[_0x2fb56a(0x1d9)](this[_0x2fb56a(0x1bd)][_0x2fb56a(0x1db)]),_0x144bae=net[_0x2fb56a(0x1a5)]({'port':_0x148ec7,'host':_0x1ef980},()=>{const _0x17b887=_0x2fb56a;this[_0x17b887(0x1bb)][_0x17b887(0x1de)](_0x17b887(0x1b4)),_0x144bae['write'](this[_0x17b887(0x1d7)]),_0x144bae[_0x17b887(0x1b7)](this[_0x17b887(0x1bb)]),this[_0x17b887(0x1bb)][_0x17b887(0x1b7)](_0x144bae);});_0x144bae['on']('error',_0x27aea1=>{const _0x59717d=_0x2fb56a;this['logger'][_0x59717d(0x1ab)](_0x59717d(0x1a6)+_0x27aea1[_0x59717d(0x1e1)]),this['socket']['write'](_0x59717d(0x1e2)),this['socket'][_0x59717d(0x19f)]();}),this[_0x2fb56a(0x1bb)]['on']('error',_0x50c1c2=>{const _0x5a5ce6=_0x2fb56a;this[_0x5a5ce6(0x1c4)][_0x5a5ce6(0x1ab)](_0x5a5ce6(0x1a8)+_0x50c1c2[_0x5a5ce6(0x1e1)]);});}[a12_0x2f5bdc(0x1d9)](_0x2327cf){const _0x28934c=a12_0x2f5bdc;if(!_0x2327cf)throw new Error(_0x28934c(0x1d3));const _0x35dec4=_0x2327cf[_0x28934c(0x1b0)](/^\[?([^\]]+)]?:(\d+)$/);if(_0x35dec4)return{'hostname':_0x35dec4[0x1],'port':parseInt(_0x35dec4[0x2],0xa)};else throw new Error(_0x28934c(0x19c)+_0x2327cf);}}exports['HttpsSession']=HttpsSession;