#!/usr/bin/env node
'use strict';function a14_0x4cbd(){const _0x269df2=['Server\x20Process\x20PID\x20:\x20','LogLevel','4QkfxoU','prototype','join','48XnuZEK','getOwnPropertyDescriptor','2911158VXFiTB','Failed\x20to\x20start\x20the\x20server:','84022Gbjdsi','includes','throw','__setModuleDefault','value','path','__createBinding','Shutting\x20down\x20the\x20server...','next','toString','default','indexOf','length','1395339wZmcoj','--config_path','apply','--log_level','debug','close','argv','defineProperty','--http','call','get','__importStar','done','LogOutput','./socks5Proxy/SocksServer','--log_output','10972376ovoaTN','pid','4345002jckSEH','./httpProxy/HttpProxy','1135386AQTufj','90botDcD','--log_file_path','SocksServer','hasOwnProperty','__esModule','6956230aLRTOR','writable','then','HttpProxy','configurable','log','../../server.log','../../server-config.json','SIGTERM','create'];a14_0x4cbd=function(){return _0x269df2;};return a14_0x4cbd();}const a14_0x2714c9=a14_0x102f;(function(_0x2ed2fd,_0x32e01a){const _0x4b4632=a14_0x102f,_0x55a1fe=_0x2ed2fd();while(!![]){try{const _0x41abbc=-parseInt(_0x4b4632(0x151))/0x1+-parseInt(_0x4b4632(0x14f))/0x2+-parseInt(_0x4b4632(0x15e))/0x3*(parseInt(_0x4b4632(0x14a))/0x4)+-parseInt(_0x4b4632(0x13e))/0x5+parseInt(_0x4b4632(0x14d))/0x6*(parseInt(_0x4b4632(0x138))/0x7)+-parseInt(_0x4b4632(0x134))/0x8+-parseInt(_0x4b4632(0x136))/0x9*(-parseInt(_0x4b4632(0x139))/0xa);if(_0x41abbc===_0x32e01a)break;else _0x55a1fe['push'](_0x55a1fe['shift']());}catch(_0xd5142e){_0x55a1fe['push'](_0x55a1fe['shift']());}}}(a14_0x4cbd,0xd5a47));var __createBinding=this&&this[a14_0x2714c9(0x157)]||(Object[a14_0x2714c9(0x147)]?function(_0x3333c1,_0x78215b,_0x5f1ce1,_0x3c2b34){const _0x1f1dbf=a14_0x2714c9;if(_0x3c2b34===undefined)_0x3c2b34=_0x5f1ce1;var _0x5f0cc0=Object[_0x1f1dbf(0x14e)](_0x78215b,_0x5f1ce1);(!_0x5f0cc0||(_0x1f1dbf(0x12e)in _0x5f0cc0?!_0x78215b[_0x1f1dbf(0x13d)]:_0x5f0cc0[_0x1f1dbf(0x13f)]||_0x5f0cc0[_0x1f1dbf(0x142)]))&&(_0x5f0cc0={'enumerable':!![],'get':function(){return _0x78215b[_0x5f1ce1];}}),Object['defineProperty'](_0x3333c1,_0x3c2b34,_0x5f0cc0);}:function(_0x474b5f,_0x4d9725,_0x4929f3,_0x4b27e8){if(_0x4b27e8===undefined)_0x4b27e8=_0x4929f3;_0x474b5f[_0x4b27e8]=_0x4d9725[_0x4929f3];}),__setModuleDefault=this&&this[a14_0x2714c9(0x154)]||(Object[a14_0x2714c9(0x147)]?function(_0x1c2257,_0xf45990){Object['defineProperty'](_0x1c2257,'default',{'enumerable':!![],'value':_0xf45990});}:function(_0x1a6dfa,_0x283f50){_0x1a6dfa['default']=_0x283f50;}),__importStar=this&&this[a14_0x2714c9(0x12f)]||function(_0x13baa2){const _0x3053a3=a14_0x2714c9;if(_0x13baa2&&_0x13baa2[_0x3053a3(0x13d)])return _0x13baa2;var _0x3c493d={};if(_0x13baa2!=null){for(var _0x40352e in _0x13baa2)if(_0x40352e!==_0x3053a3(0x15b)&&Object[_0x3053a3(0x14b)][_0x3053a3(0x13c)][_0x3053a3(0x167)](_0x13baa2,_0x40352e))__createBinding(_0x3c493d,_0x13baa2,_0x40352e);}return __setModuleDefault(_0x3c493d,_0x13baa2),_0x3c493d;},__awaiter=this&&this['__awaiter']||function(_0x377f72,_0x3ac23b,_0x127d13,_0x5b0ca1){function _0x39e2bf(_0x50dd9d){return _0x50dd9d instanceof _0x127d13?_0x50dd9d:new _0x127d13(function(_0x49afcb){_0x49afcb(_0x50dd9d);});}return new(_0x127d13||(_0x127d13=Promise))(function(_0x1fb40e,_0x1f7992){const _0x1fb9d8=a14_0x102f;function _0x2b0cbb(_0x398e82){const _0x5a5bd5=a14_0x102f;try{_0x49bee1(_0x5b0ca1[_0x5a5bd5(0x159)](_0x398e82));}catch(_0x3ffada){_0x1f7992(_0x3ffada);}}function _0x53c1a2(_0x17d569){const _0x2abd37=a14_0x102f;try{_0x49bee1(_0x5b0ca1[_0x2abd37(0x153)](_0x17d569));}catch(_0x5d4734){_0x1f7992(_0x5d4734);}}function _0x49bee1(_0x2047f3){const _0x3e1986=a14_0x102f;_0x2047f3[_0x3e1986(0x130)]?_0x1fb40e(_0x2047f3[_0x3e1986(0x155)]):_0x39e2bf(_0x2047f3[_0x3e1986(0x155)])[_0x3e1986(0x140)](_0x2b0cbb,_0x53c1a2);}_0x49bee1((_0x5b0ca1=_0x5b0ca1[_0x1fb9d8(0x160)](_0x377f72,_0x3ac23b||[]))['next']());});};Object[a14_0x2714c9(0x165)](exports,a14_0x2714c9(0x13d),{'value':!![]});function a14_0x102f(_0x3a6ef9,_0x118cc5){const _0x4cbd82=a14_0x4cbd();return a14_0x102f=function(_0x102fb7,_0x29c97b){_0x102fb7=_0x102fb7-0x12e;let _0x57e119=_0x4cbd82[_0x102fb7];return _0x57e119;},a14_0x102f(_0x3a6ef9,_0x118cc5);}const SocksServer_1=require(a14_0x2714c9(0x132)),HttpProxy_1=require(a14_0x2714c9(0x137)),path=__importStar(require(a14_0x2714c9(0x156))),Logger_1=require('./Logger');function main(){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1f52ea=a14_0x102f;try{const _0x26bde7=process['argv'][_0x1f52ea(0x15c)](_0x1f52ea(0x15f)),_0x1f156c=_0x26bde7>-0x1?process[_0x1f52ea(0x164)][_0x26bde7+0x1]:path[_0x1f52ea(0x14c)](__dirname,_0x1f52ea(0x145)),_0x116a96=process[_0x1f52ea(0x164)][_0x1f52ea(0x15c)](_0x1f52ea(0x161)),_0x1e39bf=_0x116a96>-0x1&&_0x116a96+0x1<process[_0x1f52ea(0x164)][_0x1f52ea(0x15d)]?process[_0x1f52ea(0x164)][_0x116a96+0x1]:null,_0x1cd122=process['argv']['indexOf'](_0x1f52ea(0x13a)),_0x37d981=_0x1cd122>-0x1&&_0x1cd122+0x1<process[_0x1f52ea(0x164)][_0x1f52ea(0x15d)]?process[_0x1f52ea(0x164)][_0x1cd122+0x1]:path[_0x1f52ea(0x14c)](__dirname,_0x1f52ea(0x144)),_0x50ea45=process[_0x1f52ea(0x164)][_0x1f52ea(0x15c)](_0x1f52ea(0x133)),_0x56f948=_0x50ea45>-0x1&&_0x50ea45+0x1<process['argv'][_0x1f52ea(0x15d)]?process[_0x1f52ea(0x164)][_0x50ea45+0x1]:null,_0xd25a18=process['argv'][_0x1f52ea(0x152)](_0x1f52ea(0x166)),_0x189f04=_0x1e39bf&&Logger_1[_0x1f52ea(0x149)][_0x1e39bf]?Logger_1[_0x1f52ea(0x149)][_0x1e39bf]:Logger_1[_0x1f52ea(0x149)]['Info'],_0x3887ec=_0x56f948&&Logger_1['LogOutput'][_0x56f948]?Logger_1['LogOutput'][_0x56f948]:Logger_1[_0x1f52ea(0x131)]['Console'],_0x115b71=new Logger_1['Logger'](_0x189f04,_0x3887ec,_0x37d981),_0x2b94df=new SocksServer_1[(_0x1f52ea(0x13b))](_0x1f156c,_0x115b71);let _0x53feb6;_0x115b71[_0x1f52ea(0x162)](_0x1f52ea(0x148)+process[_0x1f52ea(0x135)][_0x1f52ea(0x15a)]()),console[_0x1f52ea(0x143)]('Proxy\x20server\x20is\x20starting...'),yield _0x2b94df['start']();_0xd25a18&&(_0x53feb6=new HttpProxy_1[(_0x1f52ea(0x141))](_0x1f156c,_0x115b71),yield _0x53feb6['start']());;const _0x172fdd=()=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x1980e6=_0x1f52ea;console[_0x1980e6(0x143)](_0x1980e6(0x158)),yield _0x2b94df[_0x1980e6(0x163)](),_0xd25a18&&(yield _0x53feb6[_0x1980e6(0x163)]());});process['on']('SIGINT',_0x172fdd),process['on'](_0x1f52ea(0x146),_0x172fdd);}catch(_0x7ae5bb){console['error'](_0x1f52ea(0x150),_0x7ae5bb),process['exit'](0x1);}});}main();